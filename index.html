<html itemscope itemtype="https://schema.org/QAPage" class="html__responsive " lang="en">
<meta http-equiv="Permissions-Policy" content="interest-cohort=()">

<head>
</head>

<body>
  <div id="fb-root"></div>

  <div id="fb-messenger-checkbox"
   class="fb-messenger-checkbox" 
   page_id="104543569309924" 
   messenger_app_id="246108449206886"
   opt-in-type="transactional"
   ref="heyHey" 
   allow_login="true" 
   size="standard" 
   skin="light"
   center_align="true"
   user_ref="cd13f21c-f65c-11ed-b67e-0242ac1">
</div>
<input type="button" onclick="confirmOptIn()" value="Sign In"/>
</body>

<script>

  window.fbAsyncInit = function () {
    FB.init({
      appId: '246108449206886',
      xfbml: true,
      version: 'v16.0'
    });

    FB.Event.subscribe('xfbml.render', function (e) {
      console.log("messenger_checkbox render event");
      console.log(e);
    });

    FB.Event.subscribe('auth.statusChange', function (e) {
      console.log("messenger_checkbox render event");
      console.log(e);
    });

    FB.Event.subscribe('messenger_checkbox', function (e) {
      console.log("messenger_checkbox event");
      console.log(e);

      if (e.event == 'rendered') {
        console.log("Plugin was rendered");
      } else if (e.event == 'checkbox') {
        var checkboxState = e.state;
        console.log("Checkbox state: " + checkboxState);
      } else if (e.event == 'not_you') {
        console.log("User clicked 'not you'");
      } else if (e.event == 'hidden') {
        console.log("Plugin was hidden");
      }
    });
  };
  (function(d, s, id){
     var js, fjs = d.getElementsByTagName(s)[0];
     if (d.getElementById(id)) {return;}
     js = d.createElement(s); js.id = id;
     js.src = "https://connect.facebook.net/en_US/sdk.js";
     fjs.parentNode.insertBefore(js, fjs);
   }(document, 'script', 'facebook-jssdk'));

  function confirmOptIn() {
          FB.CheckboxPlugin.confirm({
            'app_id':'246108449206886',
            'page_id':'104543569309924',
            'ref':'heyHey',
            'user_ref':'cd13f21c-f65c-11ed-b67e-0242ac1'
          });
      };
      // window.fbAsyncInit = function() {
      //   FB.init({
      //     xfbml            : true,
      //     version          : 'v16.0'
      //   });
      // };

      // (function(d, s, id) {
      //   var js, fjs = d.getElementsByTagName(s)[0];
      //   if (d.getElementById(id)) return;
      //   js = d.createElement(s); js.id = id;
      //   js.src = 'https://connect.facebook.net/en_US/sdk/xfbml.customerchat.js';
      //   fjs.parentNode.insertBefore(js, fjs);
      // }(document, 'script', 'facebook-jssdk'));
</script>